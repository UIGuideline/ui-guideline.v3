import type { LogoAppearanceType, LogoSizeType, LogoVariantType } from './types';
import { LogoAppearance, LogoSize, LogoVariant } from './types';
import { tv, type VariantProps } from 'tailwind-variants';

const SymbolSizes: Record<LogoSizeType, string> = {
  [LogoSize.sm]: 'w-9 h-9',
  [LogoSize.base]: 'w-12 h-12',
  [LogoSize.lg]: 'w-16 h-16',
};

const CompleteSizes: Record<LogoSizeType, string> = {
  [LogoSize.sm]: 'w-[152px] h-8',
  [LogoSize.base]: 'w-36 h-6',
  [LogoSize.lg]: 'w-[192px] h-10',
};

const WordmarkSizes: Record<LogoSizeType, string> = {
  [LogoSize.sm]: 'w-[113px] h-[15px]',
  [LogoSize.base]: 'w-[127px] h-[17px]',
  [LogoSize.lg]: 'w-[141px] h-[19px]',
};

const container = tv({
  base: ['flex items-center gap-2'],
});

const logoStyles = tv({
  base: '',
  variants: {
    variant: {
      [LogoVariant.light]: 'text-white',
      [LogoVariant.dark]: 'text-black',
    },
    appearance: {
      [LogoAppearance.symbol]: '',
      [LogoAppearance.wordmark]: '',
      [LogoAppearance.complete]: '',
    },
    size: {
      [LogoSize.sm]: '',
      [LogoSize.base]: '',
      [LogoSize.lg]: '',
    },
  },
  compoundVariants: [
    // Symbol
    { appearance: LogoAppearance.symbol, size: LogoSize.sm, className: SymbolSizes[LogoSize.sm] },
    { appearance: LogoAppearance.symbol, size: LogoSize.base, className: SymbolSizes[LogoSize.base] },
    { appearance: LogoAppearance.symbol, size: LogoSize.lg, className: SymbolSizes[LogoSize.lg] },

    // Wordmark
    { appearance: LogoAppearance.wordmark, size: LogoSize.sm, className: WordmarkSizes[LogoSize.sm] },
    { appearance: LogoAppearance.wordmark, size: LogoSize.base, className: WordmarkSizes[LogoSize.base] },
    { appearance: LogoAppearance.wordmark, size: LogoSize.lg, className: WordmarkSizes[LogoSize.lg] },

    // Complete
    { appearance: LogoAppearance.complete, size: LogoSize.sm, className: CompleteSizes[LogoSize.sm] },
    { appearance: LogoAppearance.complete, size: LogoSize.base, className: CompleteSizes[LogoSize.base] },
    { appearance: LogoAppearance.complete, size: LogoSize.lg, className: CompleteSizes[LogoSize.lg] },
  ],
  defaultVariants: {
    variant: LogoVariant.dark,
    appearance: LogoAppearance.complete,
    size: LogoSize.base,
  },
});

export interface LogoProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof logoStyles> {
  /**
   * Specify the label of the logo (for accessibility).
   */
  arialLabel?: string;
}

export const Logo = ({ className, arialLabel = 'Logo', variant, size, appearance, ...props }: LogoProps) => {
  const rootClasses = container({ className });
  const svgClasses = logoStyles({ variant, size, appearance });

  const svgs: Record<LogoAppearanceType, React.ReactNode> = {
    [LogoAppearance.symbol]: (
      <svg viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg" className={svgClasses}>
        <path
          fill="currentColor"
          fillRule="evenodd"
          d="m25.967 13-6.49-6.491a1.75 1.75 0 0 0-2.468 0L10.522 13h2.47l5.25-5.25L23.494 13h2.474Zm2 2h-2.474l3.25 3.25L25.992 21h2.478l1.517-1.517a1.75 1.75 0 0 0 0-2.468h-.005L27.967 15Zm-9.724 13.75L23.992 23h2.479l-6.99 6.99a1.75 1.75 0 0 1-2.467 0L10.026 23h2.467l5.75 5.75ZM10.493 21l-2.75-2.75L10.992 15H8.523l-.008.008-2.006 2.007a1.75 1.75 0 0 0 0 2.468L8.026 21h2.467Z"
          clipRule="evenodd"
        />
      </svg>
    ),
    [LogoAppearance.wordmark]: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 18" fill="none" className={svgClasses}>
        <path
          fill="currentColor"
          d="M9.883.914h3.383v10.39c0 1.167-.279 2.188-.836 3.063-.552.875-1.326 1.557-2.32 2.047-.995.484-2.154.727-3.477.727-1.328 0-2.49-.243-3.485-.727-.994-.49-1.768-1.172-2.32-2.047C.276 13.492 0 12.471 0 11.305V.915h3.383v10.1c0 .61.133 1.152.398 1.626.271.474.651.846 1.14 1.117.49.27 1.06.406 1.712.406.656 0 1.226-.135 1.71-.406.49-.271.868-.643 1.134-1.117.27-.474.406-1.016.406-1.625V.914ZM19.432.914v16h-3.383v-16h3.383ZM37.916 6.086a3.509 3.509 0 0 0-.46-1.008 2.845 2.845 0 0 0-.728-.75 3.116 3.116 0 0 0-.968-.476 4.095 4.095 0 0 0-1.195-.164c-.818 0-1.537.203-2.157.609-.614.406-1.094.997-1.437 1.773-.344.771-.516 1.714-.516 2.828 0 1.115.17 2.063.508 2.844.338.781.818 1.378 1.437 1.79.62.405 1.352.609 2.196.609.765 0 1.419-.136 1.96-.407a2.912 2.912 0 0 0 1.25-1.164c.292-.5.438-1.09.438-1.773l.688.101h-4.125V8.352h6.695v2.015c0 1.406-.297 2.615-.89 3.625a6.07 6.07 0 0 1-2.454 2.328c-1.041.542-2.234.813-3.578.813-1.5 0-2.818-.33-3.953-.992-1.136-.667-2.02-1.612-2.656-2.836-.63-1.23-.946-2.688-.946-4.375 0-1.297.188-2.453.563-3.47.38-1.02.911-1.884 1.594-2.593a6.887 6.887 0 0 1 2.383-1.617A7.72 7.72 0 0 1 34.51.695c.906 0 1.75.133 2.531.399.781.26 1.474.63 2.078 1.11.61.478 1.107 1.049 1.492 1.71.386.656.633 1.38.742 2.172h-3.437ZM51.676 11.805v-6.89h3.328v12h-3.195v-2.18h-.125a3.543 3.543 0 0 1-1.352 1.695c-.625.427-1.388.64-2.289.64-.802 0-1.508-.182-2.117-.547a3.759 3.759 0 0 1-1.43-1.554c-.338-.672-.51-1.477-.516-2.414v-7.64h3.329v7.046c.005.708.195 1.268.57 1.68.375.411.878.617 1.508.617.4 0 .776-.091 1.125-.274.349-.187.63-.463.843-.828.22-.364.326-.815.32-1.351ZM57.666 16.914v-12h3.328v12h-3.328Zm1.672-13.547c-.495 0-.92-.164-1.273-.492a1.596 1.596 0 0 1-.524-1.195c0-.459.175-.852.524-1.18.354-.333.778-.5 1.273-.5.495 0 .917.167 1.265.5.355.328.532.721.532 1.18 0 .463-.177.862-.532 1.195a1.78 1.78 0 0 1-1.265.492ZM68.082 17.11a4.53 4.53 0 0 1-2.476-.704c-.735-.474-1.318-1.169-1.75-2.086-.428-.922-.641-2.052-.641-3.39 0-1.375.221-2.519.664-3.43.443-.917 1.031-1.602 1.765-2.055a4.524 4.524 0 0 1 2.43-.687c.672 0 1.232.114 1.68.344.453.224.818.505 1.094.843.28.334.494.662.64.985h.102V.914h3.32v16H71.63v-1.922h-.14a4.29 4.29 0 0 1-.665.992 3.3 3.3 0 0 1-1.101.805c-.448.214-.995.32-1.641.32Zm1.055-2.65c.536 0 .99-.145 1.36-.437.374-.296.66-.71.859-1.242.203-.531.304-1.153.304-1.867 0-.713-.099-1.333-.297-1.86-.198-.525-.484-.932-.86-1.218-.374-.287-.83-.43-1.366-.43-.547 0-1.008.149-1.383.446-.375.296-.659.708-.852 1.234-.192.526-.289 1.135-.289 1.828 0 .698.097 1.315.29 1.852.197.53.481.947.85 1.25.376.296.837.445 1.384.445ZM83.115 17.148c-1.234 0-2.297-.25-3.187-.75a5.136 5.136 0 0 1-2.047-2.14c-.48-.927-.719-2.024-.719-3.29 0-1.234.24-2.317.719-3.25a5.312 5.312 0 0 1 2.023-2.179c.875-.52 1.901-.781 3.078-.781a6.26 6.26 0 0 1 2.211.383c.688.25 1.287.627 1.797 1.132.516.506.917 1.141 1.203 1.907.287.76.43 1.65.43 2.672v.914H78.49V9.703h7c0-.479-.104-.904-.312-1.273a2.238 2.238 0 0 0-.867-.867c-.365-.214-.79-.32-1.274-.32a2.56 2.56 0 0 0-1.344.35c-.385.23-.687.54-.906.93-.219.386-.33.816-.336 1.29v1.96c0 .594.11 1.107.328 1.54.224.432.54.765.946 1 .406.234.888.351 1.445.351.37 0 .708-.052 1.016-.156.307-.104.57-.26.789-.469.218-.208.385-.463.5-.766l3.078.204a4.203 4.203 0 0 1-.961 1.937c-.48.547-1.1.974-1.86 1.281-.755.302-1.627.453-2.617.453ZM94.123.914v16h-3.328v-16h3.328ZM96.79 16.914v-12h3.327v12h-3.328Zm1.67-13.547c-.494 0-.918-.164-1.272-.492a1.596 1.596 0 0 1-.524-1.195c0-.459.174-.852.523-1.18.355-.333.78-.5 1.274-.5.495 0 .917.167 1.266.5.354.328.531.721.531 1.18 0 .463-.177.862-.531 1.195-.35.328-.771.492-1.266.492ZM106.111 9.977v6.937h-3.328v-12h3.172v2.117h.141a3.345 3.345 0 0 1 1.336-1.656c.625-.411 1.382-.617 2.273-.617.833 0 1.56.182 2.18.547.62.364 1.101.885 1.445 1.562.344.672.516 1.474.516 2.406v7.641h-3.328V9.867c.005-.734-.183-1.307-.563-1.719-.38-.416-.904-.625-1.57-.625a2.39 2.39 0 0 0-1.188.29 2.02 2.02 0 0 0-.797.843c-.187.365-.283.805-.289 1.32ZM121.938 17.148c-1.235 0-2.297-.25-3.188-.75a5.138 5.138 0 0 1-2.047-2.14c-.479-.927-.719-2.024-.719-3.29 0-1.234.24-2.317.719-3.25a5.312 5.312 0 0 1 2.024-2.179c.875-.52 1.901-.781 3.078-.781.791 0 1.528.127 2.211.383.687.25 1.286.627 1.796 1.132.516.506.917 1.141 1.204 1.907.286.76.429 1.65.429 2.672v.914h-10.133V9.703h7c0-.479-.104-.904-.312-1.273a2.234 2.234 0 0 0-.867-.867c-.365-.214-.789-.32-1.274-.32-.505 0-.953.116-1.343.35-.386.23-.688.54-.907.93-.218.386-.33.816-.336 1.29v1.96c0 .594.11 1.107.329 1.54.224.432.539.765.945 1 .406.234.888.351 1.445.351.37 0 .709-.052 1.016-.156.307-.104.57-.26.789-.469a2.04 2.04 0 0 0 .5-.766l3.078.204a4.205 4.205 0 0 1-.961 1.937c-.479.547-1.099.974-1.859 1.281-.756.302-1.628.453-2.617.453Z"
        />
      </svg>
    ),
    [LogoAppearance.complete]: (
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 36" fill="none" className={svgClasses}>
        <path
          fill="currentColor"
          fillRule="evenodd"
          d="m25.967 13-6.49-6.491a1.75 1.75 0 0 0-2.468 0L10.522 13h2.47l5.25-5.25L23.494 13h2.474Zm2 2h-2.474l3.25 3.25L25.992 21h2.478l1.517-1.517a1.75 1.75 0 0 0 0-2.468h-.005L27.967 15Zm-9.724 13.75L23.992 23h2.479l-6.99 6.99a1.75 1.75 0 0 1-2.467 0L10.026 23h2.467l5.75 5.75ZM10.493 21l-2.75-2.75L10.992 15H8.523l-.008.008-2.006 2.007a1.75 1.75 0 0 0 0 2.468L8.026 21h2.467Z"
          clipRule="evenodd"
        />
        <path
          fill="currentColor"
          d="M53.883 10.34h3.383v10.39c0 1.167-.279 2.188-.836 3.063-.552.875-1.326 1.557-2.32 2.047-.995.484-2.154.726-3.477.726-1.328 0-2.49-.242-3.485-.726-.994-.49-1.768-1.172-2.32-2.047-.552-.875-.828-1.896-.828-3.063V10.34h3.383V20.44c0 .61.133 1.151.398 1.625.271.474.651.847 1.14 1.118.49.27 1.06.406 1.712.406.656 0 1.226-.136 1.71-.406.49-.271.868-.644 1.134-1.118.27-.474.406-1.015.406-1.625V10.34ZM63.432 10.34v16h-3.383v-16h3.383ZM81.916 15.512a3.51 3.51 0 0 0-.46-1.008 2.844 2.844 0 0 0-.728-.75 3.117 3.117 0 0 0-.968-.477 4.097 4.097 0 0 0-1.196-.164c-.817 0-1.536.203-2.156.61-.614.406-1.094.997-1.437 1.773-.344.77-.516 1.714-.516 2.828 0 1.115.17 2.063.508 2.844.338.781.818 1.378 1.437 1.789.62.406 1.352.61 2.196.61.765 0 1.419-.136 1.96-.407a2.912 2.912 0 0 0 1.25-1.164c.292-.5.438-1.091.438-1.773l.688.101h-4.125v-2.547h6.695v2.016c0 1.406-.297 2.615-.89 3.625a6.07 6.07 0 0 1-2.454 2.328c-1.041.542-2.234.813-3.578.813-1.5 0-2.818-.331-3.953-.993-1.135-.666-2.02-1.612-2.656-2.835-.63-1.23-.946-2.688-.946-4.376 0-1.296.188-2.453.563-3.468.38-1.021.911-1.886 1.594-2.594a6.886 6.886 0 0 1 2.382-1.617 7.72 7.72 0 0 1 2.946-.555c.906 0 1.75.133 2.531.399a6.74 6.74 0 0 1 2.078 1.109c.61.48 1.107 1.05 1.492 1.71.386.657.633 1.381.742 2.173h-3.437ZM95.676 21.23v-6.89h3.328v12h-3.195v-2.18h-.125a3.543 3.543 0 0 1-1.352 1.695c-.625.428-1.388.641-2.289.641-.802 0-1.508-.182-2.117-.547a3.76 3.76 0 0 1-1.43-1.555c-.338-.671-.51-1.476-.515-2.413V14.34h3.328v7.047c.005.708.195 1.268.57 1.68.375.41.877.617 1.508.617.4 0 .776-.092 1.125-.274.349-.187.63-.463.844-.828.218-.365.325-.815.32-1.352ZM101.666 26.34v-12h3.328v12h-3.328Zm1.672-13.547a1.81 1.81 0 0 1-1.274-.492 1.595 1.595 0 0 1-.523-1.196c0-.458.174-.851.523-1.18.355-.333.779-.5 1.274-.5s.917.167 1.266.5c.354.329.531.722.531 1.18 0 .464-.177.862-.531 1.196a1.782 1.782 0 0 1-1.266.492ZM112.082 26.535a4.533 4.533 0 0 1-2.477-.703c-.734-.474-1.317-1.17-1.75-2.086-.427-.922-.64-2.052-.64-3.39 0-1.376.221-2.519.664-3.43.443-.917 1.031-1.602 1.766-2.055a4.521 4.521 0 0 1 2.429-.687c.672 0 1.232.114 1.68.343.453.224.818.506 1.094.844.281.333.494.662.64.984h.102V10.34h3.32v16h-3.281v-1.922h-.141a4.266 4.266 0 0 1-.664.992 3.296 3.296 0 0 1-1.101.805c-.448.213-.995.32-1.641.32Zm1.055-2.648c.536 0 .989-.146 1.359-.438.375-.297.662-.71.859-1.242.204-.531.305-1.154.305-1.867 0-.714-.099-1.334-.297-1.86-.198-.526-.484-.932-.859-1.218-.375-.287-.831-.43-1.367-.43-.547 0-1.008.148-1.383.445-.375.297-.659.709-.852 1.235-.192.526-.289 1.135-.289 1.828 0 .698.097 1.315.289 1.851.198.532.482.948.852 1.25.375.297.836.446 1.383.446ZM127.115 26.574c-1.234 0-2.297-.25-3.187-.75a5.132 5.132 0 0 1-2.047-2.14c-.479-.928-.719-2.024-.719-3.29 0-1.234.24-2.317.719-3.25a5.317 5.317 0 0 1 2.023-2.18c.875-.52 1.901-.78 3.078-.78.792 0 1.529.127 2.211.382.688.25 1.287.628 1.797 1.133.516.505.917 1.14 1.203 1.906.287.76.43 1.651.43 2.672v.914H122.49V19.13h7c0-.48-.104-.904-.312-1.274a2.247 2.247 0 0 0-.867-.867c-.365-.213-.79-.32-1.274-.32-.505 0-.953.117-1.344.352a2.47 2.47 0 0 0-.906.93 2.62 2.62 0 0 0-.336 1.288V21.2c0 .594.11 1.107.328 1.54.224.432.539.765.946 1 .406.234.888.35 1.445.35.37 0 .708-.051 1.016-.155.307-.105.57-.26.789-.47.218-.207.385-.463.5-.765l3.078.203a4.214 4.214 0 0 1-.961 1.938c-.479.547-1.099.974-1.86 1.281-.755.302-1.627.453-2.617.453ZM138.123 10.34v16h-3.328v-16h3.328ZM140.789 26.34v-12h3.328v12h-3.328Zm1.672-13.547c-.495 0-.919-.164-1.273-.492a1.596 1.596 0 0 1-.524-1.196c0-.458.175-.851.524-1.18.354-.333.778-.5 1.273-.5.495 0 .917.167 1.266.5.354.329.531.722.531 1.18 0 .464-.177.862-.531 1.196a1.782 1.782 0 0 1-1.266.492ZM150.111 19.402v6.938h-3.328v-12h3.172v2.117h.141a3.344 3.344 0 0 1 1.336-1.656c.625-.412 1.382-.617 2.273-.617.833 0 1.56.182 2.18.546.62.365 1.101.886 1.445 1.563.344.672.516 1.474.516 2.406v7.64h-3.328v-7.046c.005-.734-.183-1.307-.563-1.719-.38-.416-.904-.625-1.57-.625a2.39 2.39 0 0 0-1.188.29 2.02 2.02 0 0 0-.797.843c-.187.365-.283.805-.289 1.32ZM165.938 26.574c-1.235 0-2.297-.25-3.188-.75a5.138 5.138 0 0 1-2.047-2.14c-.479-.928-.719-2.024-.719-3.29 0-1.234.24-2.317.719-3.25a5.312 5.312 0 0 1 2.024-2.18c.875-.52 1.901-.78 3.078-.78.791 0 1.528.127 2.211.382.687.25 1.286.628 1.796 1.133.516.505.917 1.14 1.204 1.906.286.76.429 1.651.429 2.672v.914h-10.133V19.13h7c0-.48-.104-.904-.312-1.274a2.234 2.234 0 0 0-.867-.867c-.365-.213-.789-.32-1.274-.32-.505 0-.953.117-1.343.352-.386.229-.688.539-.907.93-.218.385-.33.814-.336 1.288V21.2c0 .594.11 1.107.329 1.54.224.432.539.765.945 1 .406.234.888.35 1.445.35.37 0 .709-.051 1.016-.155.307-.105.57-.26.789-.47a2.04 2.04 0 0 0 .5-.765l3.078.203a4.204 4.204 0 0 1-.961 1.938c-.479.547-1.099.974-1.859 1.281-.756.302-1.628.453-2.617.453Z"
        />
      </svg>
    ),
  };

  return (
    <div className={rootClasses} aria-label={arialLabel} {...props}>
      {svgs[appearance ?? LogoAppearance.complete]}
    </div>
  );
};

Logo.displayName = 'Logo';

export { LogoAppearance, LogoSize, LogoVariant };
export type { LogoAppearanceType, LogoSizeType, LogoVariantType };
